<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For My Sweeta ğŸ’–</title>
<style>
  :root{--pink:#ff6fa3;--accent:#ff4d81;--bg:#fff0f6}
  html,body{height:100%;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:radial-gradient(circle at 10% 10%,var(--bg),#ffeef8 24%,#fff 60%);-webkit-font-smoothing:antialiased}
  .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
  .card{width:94%;max-width:560px;padding:26px;border-radius:18px;background:rgba(255,255,255,0.98);box-shadow:0 14px 40px rgba(0,0,0,0.08);text-align:center}
  h1{margin:6px 0 6px;font-size:26px;color:#222}
  p.lead{margin:0 0 14px;color:#6b6b6b}
  .btn{padding:12px 18px;border-radius:12px;background:var(--pink);color:white;font-weight:700;border:none;cursor:pointer;touch-action:manipulation}
  .meta{font-size:13px;color:#9a9a9a;margin-top:12px}
  .chip{background:linear-gradient(90deg,#ffd6e8,#ffc8dd);padding:6px 10px;border-radius:999px;display:inline-block;margin:4px 6px;color:#6b0b3a;font-weight:700}
  /* popup */
  .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.12);display:none;z-index:20}
  .popup{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) scale(.9);min-width:280px;max-width:92%;padding:18px;border-radius:14px;background:#fff;box-shadow:0 18px 50px rgba(0,0,0,0.18);text-align:center;z-index:30;opacity:0;pointer-events:none;transition:all .26s}
  .popup.show{opacity:1;pointer-events:auto;transform:translate(-50%,-50%) scale(1)}
  .popup h2{margin:6px 0 8px;font-size:20px;color:#222}
  .popup p{margin:6px 0 12px;color:#444;line-height:1.35}
  .single{display:inline-block;padding:12px 16px;border-radius:12px;background:var(--pink);color:#fff;font-weight:700;text-decoration:none;cursor:pointer;border:none;touch-action:manipulation}
  .closeSmall{position:absolute;right:10px;top:6px;color:#888;font-size:18px;background:transparent;border:none;cursor:pointer}
  /* final animation & hearts */
  .hearts{position:fixed;left:0;right:0;top:0;bottom:0;pointer-events:none;z-index:35;overflow:hidden}
  .hearts i{position:absolute;top:-10%;width:22px;height:22px;background:linear-gradient(180deg,#ff7aa2,#ff4d81);transform:rotate(45deg);border-radius:4px;opacity:0;animation:fall linear infinite}
  @keyframes fall{0%{transform:translateY(-10vh) rotate(0) scale(.7);opacity:0}10%{opacity:1}100%{transform:translateY(120vh) rotate(360deg) scale(1);opacity:1}}
  .kissBig{font-size:72px}
  .finalMsg{font-weight:800;color:var(--accent);font-size:20px;margin-top:6px}
  @media (max-width:420px){.card{padding:18px}.kissBig{font-size:48px}}
</style>
</head>
<body>

<div class="wrap">
  <div class="card">
    <div style="font-size:36px">ğŸ’Œ</div>
    <h1>For my <strong style="color:var(--accent)">Sweeta</strong>â€¦</h1>
    <p class="lead">Tap the button and enjoy some tiny love notes, sweeta. ğŸ’•</p>
    <button id="startBtn" class="btn" type="button">Open the notes</button>
    <div class="meta">
      <span class="chip">sweeta</span>
      <span class="chip">babycakeeeee</span>
      <span class="chip">cutu</span>
      <span class="chip">my love</span>
      <span class="chip">my babyboo</span>
    </div>
  </div>
</div>

<!-- overlay -->
<div class="overlay" id="overlay"></div>

<!-- popups (hidden initially) -->
<div id="popContainer">
  <div class="popup" id="pop1" role="dialog">
    <button class="closeSmall" data-close type="button">âœ•</button>
    <h2>Hey <span style="color:var(--accent);font-weight:800">sweeta</span>, my <span style="color:var(--accent);font-weight:800">babycakeeeee</span>â€¦</h2>
    <p>You're my <strong style="color:var(--accent)">cutu</strong>, my <strong style="color:var(--accent)">my love</strong>, my <strong style="color:var(--accent)">my babyboo</strong> â€” your smile melts me every time. ğŸ’–</p>
    <button class="single" data-next type="button"> Aww ğŸ¥º </button>
  </div>

  <div class="popup" id="pop2" role="dialog">
    <button class="closeSmall" data-close type="button">âœ•</button>
    <h2>Tiny reminder for you, <span style="color:var(--accent);font-weight:800">cutu</span>â€¦</h2>
    <p>Youâ€™re my sunshine on cloudy days and my cozy blanket at night â€” I adore you, <strong style="color:var(--accent)">sweeta</strong>. ğŸ¯â˜ï¸</p>
    <button class="single" data-next type="button"> Love you ğŸ’— </button>
  </div>

  <div class="popup" id="pop3" role="dialog">
    <button class="closeSmall" data-close type="button">âœ•</button>
    <h2>Silly fact, <span style="color:var(--accent);font-weight:800">babycakeeeee</span>â€¦</h2>
    <p>I grin like an idiot thinking of you â€” you broke my seriousness and I love it, <strong style="color:var(--accent)">cutu</strong>. ğŸ˜Š</p>
    <button class="single" data-next type="button"> Hehe ğŸ˜˜ </button>
  </div>

  <div class="popup" id="pop4" role="dialog">
    <button class="closeSmall" data-close type="button">âœ•</button>
    <h2>My promise, <span style="color:var(--accent);font-weight:800">my love</span>â€¦</h2>
    <p>Iâ€™ll always be your biggest fan, your shoulder, and your warm hug â€” forever and ever, <strong style="color:var(--accent)">my babyboo</strong>. ğŸ¤</p>
    <button class="single" data-next type="button"> Forever ğŸ¥° </button>
  </div>

  <div class="popup" id="pop5" role="dialog">
    <button class="closeSmall" data-close type="button">âœ•</button>
    <h2>Surprise, <strong style="color:var(--accent)">sweeta</strong>â€¦</h2>
    <p style="font-weight:700;font-size:18px">I love you ğŸ’—</p>
    <button class="single" data-next type="button"> A kiss for you ğŸ’‹ </button>
  </div>

  <div class="popup" id="pop6" role="dialog">
    <div style="padding:8px">
      <div class="kissBig">ğŸ’‹</div>
      <div class="finalMsg">A big kiss for you, <strong style="color:var(--accent)">babycakeeeee</strong> â¤ï¸</div>
      <p>You're my favorite hello and my sweetest forever.</p>
      <button class="single" data-close type="button"> Done â¤ï¸ </button>
    </div>
  </div>
</div>

<!-- hearts (will be created by JS) -->
<div class="hearts" id="hearts" aria-hidden="true"></div>

<script>
(function(){
  const popOrder = ['pop1','pop2','pop3','pop4','pop5','pop6'];
  let idx = 0;
  const overlay = document.getElementById('overlay');

  function show(id){
    document.querySelectorAll('.popup').forEach(p=>p.classList.remove('show'));
    const el = document.getElementById(id);
    if(!el) return;
    el.classList.add('show');
    overlay.style.display = 'block';
    // final hearts
    if(id === 'pop6') startHearts(); else stopHearts();
  }
  function hideAll(){
    document.querySelectorAll('.popup').forEach(p=>p.classList.remove('show'));
    overlay.style.display = 'none';
    stopHearts();
    idx = 0;
  }

  // robust listeners: click + pointerdown
  function addPointerListener(el, cb){
    el.addEventListener('click', cb, {passive:true});
    el.addEventListener('pointerdown', function onp(e){
      // pointerdown might fire before click on mobile; ignore if it's a mouse secondary button
      if(e.button !== 0) return;
      // short delay to allow click to still happen normally
      setTimeout(()=>{},10);
    }, {passive:true});
  }

  document.getElementById('startBtn').addEventListener('click', function(e){
    e.preventDefault();
    idx = 0;
    show(popOrder[idx]);
  });

  // next buttons: add both click and pointer event, and a fallback timeout for pop3
  document.querySelectorAll('[data-next]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      idx++;
      if(idx < popOrder.length) show(popOrder[idx]);
      else hideAll();
    }, {passive:true});
    // also safe pointerdown
    btn.addEventListener('pointerdown', ()=>{}, {passive:true});
  });

  // close buttons
  document.querySelectorAll('[data-close]').forEach(btn=>{
    btn.addEventListener('click', hideAll, {passive:true});
  });

  overlay.addEventListener('click', hideAll, {passive:true});

  // --- Auto-advance fallback for pop3 (5 seconds) ---
  let pop3Timer = null;
  function startPop3Timer(){
    clearPop3Timer();
    pop3Timer = setTimeout(()=>{
      // only advance if currently on pop3
      const cur = popOrder[idx];
      if(cur === 'pop3'){
        idx++;
        if(idx < popOrder.length) show(popOrder[idx]); else hideAll();
      }
    }, 5000); // 5000ms = 5s
  }
  function clearPop3Timer(){ if(pop3Timer){ clearTimeout(pop3Timer); pop3Timer = null; } }

  // watch for pop changes to enable/disable the pop3 timer
  const observer = new MutationObserver(()=> {
    const cur = popOrder[idx];
    if(cur === 'pop3') startPop3Timer(); else clearPop3Timer();
  });
  // observe popContainer for class changes
  observer.observe(document.getElementById('popContainer'), {attributes:true, subtree:true, attributeFilter:['class']});

  // hearts engine
  let heartsInterval = null;
  const heartsRoot = document.getElementById('hearts');

  function createHeart(leftPercent, duration){
    const i = document.createElement('i');
    i.style.left = leftPercent + '%';
    i.style.animationDuration = duration + 's';
    heartsRoot.appendChild(i);
    setTimeout(()=>{ if(i && i.parentNode) i.parentNode.removeChild(i); }, (duration*1000)+2000);
  }

  function startHearts(){
    stopHearts();
    heartsRoot.innerHTML = '';
    heartsInterval = setInterval(()=>{
      const left = Math.random()*90 + 3;
      const dur = 4 + Math.random()*4;
      createHeart(left, dur);
    }, 350);
    for(let j=0;j<10;j++) createHeart(5+Math.random()*90, 4+Math.random()*4);
  }
  function stopHearts(){
    if(heartsInterval) { clearInterval(heartsInterval); heartsInterval = null; }
    heartsRoot.innerHTML = '';
  }

  // cleanup
  window.addEventListener('beforeunload', ()=>{ clearPop3Timer(); stopHearts(); });

  // Extra defensive: if user lands directly to pop3 somehow, enable timer
  // Also ensure observer sees changes
})();
</script>
</body>
                                                           </html>
